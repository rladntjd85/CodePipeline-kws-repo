<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.erp_mes.mes.plant.mapper.EquipFixMapper">


<resultMap id="EquipFixMap" type="com.erp_mes.mes.plant.dto.EquipFixDTO">
<!--     참조값 -->
    <result property="equipId" column="equip_id"/>
    <result property="equipNm" column="equip_nm"/>
    
    
    <result property="note" column="note"/>
    <result property="startDt" column="start_dt"/>
    <result property="endDt" column="end_dt"/>

</resultMap>

	<select id="findById" resultMap="EquipFixMap">
		SELECT 
			f.equip_id, 
			f.note,
			f.start_dt,
			f.end_dt,
			
			e.equip_nm
		FROM 
			equipment_fix f
		INNER JOIN 
			equipment e
		ON
			f.equip_id = e.equip_id AND e.equip_id = #{equipId}
	</select>
</mapper>